---
title: git 使用指北与问题解决
date: 2025-02-20 15:00:00
categories: git
tags: git
excerpt: 
  - git的基本操作和配置
  - 分支管理和版本控制实践
  - SSH秘钥的创建和端口配置
index_img: https://cdn.jsdelivr.net/gh/tingshuo-yiqing/PicGo-tuchuang/img/QQ%E5%9B%BE%E7%89%8720241227171332(4).jpeg
---
{% note info %}
想用一杯Latte把你灌醉

好让你能多爱我一点
{% endnote %}

## 1.上github和汉化

在微软商店安装**Watt Toolkit**可以直接加速github，然后用qq邮箱或其它邮箱都可以注册一下

![](https://cdn.jsdelivr.net/gh/tingshuo-yiqing/PicGo-tuchuang/img/20250219224935829.png)

搜索框搜索“chinese汉化”认准第一个star7.8k即可，然后安装油猴(Tampermonkey)插件，再安装汉化脚本。还有许多脚本可以安装。

![](https://cdn.jsdelivr.net/gh/tingshuo-yiqing/PicGo-tuchuang/img/20250219225253894.png)

进入文件夹右键打开选项卡，点击`用git bash打开`

![](https://cdn.jsdelivr.net/gh/tingshuo-yiqing/PicGo-tuchuang/img/20250220073842647.png)

## 2.安装和配置git

下载地址[git-scm.com](git-scm.com)，[镜像下载地址](https://registry.npmmirror.com/binary.html?path=git-for-windows/)

#### 显示隐藏文件夹：

![](https://cdn.jsdelivr.net/gh/tingshuo-yiqing/PicGo-tuchuang/img/20250219230110370.png)

在VS code中显示隐藏文件夹只需要在设置里找到：Files:Exclude再把`**/.git`删除即可显示出来

![](https://cdn.jsdelivr.net/gh/tingshuo-yiqing/PicGo-tuchuang/img/20250219231851407.png)

#### 初始化仓库过程用到的命令：

```bash
git -v
git init  #
git init -b main   #-b main 明确告诉 Git 将初始分支命名为 main。

git config --global user.name "你的名字"
git config --global user.email "你的邮箱"

git config --list #查看刚刚配置的用户名和邮箱
git config --global --list # 这个也可以查看配置信息
```

![](https://cdn.jsdelivr.net/gh/tingshuo-yiqing/PicGo-tuchuang/img/20250219232912375.png)

![](https://cdn.jsdelivr.net/gh/tingshuo-yiqing/PicGo-tuchuang/img/20250219232959200.png)

#### bash的基本操作

常用快捷键：

```bash
Ctrl + C 中断当前命令
Ctrl + L 或 clear: 清屏
Ctrl + A 移动光标到行头
Ctrl + E: 移动光标到行尾
Ctrl + U: 删除光标前的所有字符
Ctrl + K: 删除光标后的所有字符
Ctrl + W: 删除光标前的一个单词
Tab: 自动补全
↑ / ↓: 浏览历史命令
```

## 3.基础操作流程

`git status`最常见的命令之一，初学者最好每一个命令就查看一下文件的状态.`git status -s`/`git status --short`是精简输出

```bash
echo xxx > <file>
echo xxx >> <file>

git add xxx  # U > A
git add .

# 撤回
git reset xxx   # A > U
git reset

git commit -m "提交信息，要准确详细"
git commit     # 进入vim编辑器，编辑

git log 
git log -2 #只看最近两条
git log --oneline# 更简洁
```

## 4.SSH秘钥的创建

生成秘钥（ed25519算法）：

```bash
ssh-keygen -t ed25519 -C "your_email@example.com"  
```

**第一次使用这个命令**一直回车即可

![](https://cdn.jsdelivr.net/gh/tingshuo-yiqing/PicGo-tuchuang/img/20250220084432930.png)

在用户文件夹里查看密钥对
{% gi 3  2-1 %}
![](https://cdn.jsdelivr.net/gh/tingshuo-yiqing/PicGo-tuchuang/img/20250219152152312.png)

![](https://cdn.jsdelivr.net/gh/tingshuo-yiqing/PicGo-tuchuang/img/20250219152313294.png)

![](https://cdn.jsdelivr.net/gh/tingshuo-yiqing/PicGo-tuchuang/img/20250220084930823.png)
{% endgi %}
添加公钥.pub文件复制粘贴至Github→ Settings → SSH Key，再连接测试一下：

```bash
ssh -T git@github.com
```

正常会报错：连接测试时出现：`ssh: connect to host github.com port 22: Connection timed out`通常是因为网络环境无法通过 **22 端口**连接到 GitHub 的 SSH 服务。可以通过以下步骤解决，官方文档为[通过HTTP端口使用SSH](https://docs.github.com/en/authentication/troubleshooting-ssh/using-ssh-over-the-https-port)

我们需要改HTTPS端口（443）使用SSH。方法为在生成的.ssh文件夹中添加配置文件

```bash
# 编辑 SSH 配置文件
vim ~/.ssh/config

# 配置文件内容：
Host github.com          # 别名，可以自定义
Hostname ssh.github.com   # GitHub SSH 的实际主机名
Port 443                # 使用 443 端口
User git                # 使用 git 用户
```

![](https://cdn.jsdelivr.net/gh/tingshuo-yiqing/PicGo-tuchuang/img/20250220074831847.png)

粘贴好后按Ecs再英文状态下的`:wq`保存退出，可以检查一下

再次测试时出现：`Hi username ! You've successfully authenticated, but GitHub does not provide shell access.`即成功了，我们就可以通过SSH克隆和推送仓库了

![](https://cdn.jsdelivr.net/gh/tingshuo-yiqing/PicGo-tuchuang/img/20250220085232998.png)

## 5.第一次提交的命令：

关键是：

* **添加远程仓库的 URL (Add Remote Origin**

* **推送本地分支到远程仓库 (Push to Remote):**

```bash
git remote add origin <你的GitHub仓库URL>
git remote -v #查看已配置的远程仓库信息

git push -u origin master #取决于是main还是master且第一次需要 -u

```

之后便可以

- 推送后续提交: **git push** (默认会推送当前分支到其追踪的远程分支)
- 拉取远程更新: **git pull** (默认会拉取远程追踪分支的更新并合并到当前分支)

## 6..gitignore的实践

创建.gitignore文件：

```bash
# 将不需要推送的文件写入到.gitignore上
echo xxx > .gitignore
# xxx可以是字符串，文件，文件夹，第一次使用重定向符>
#如果已经用了.gitignore文件的话，就用>>追加符来添加新的文件或文件夹
printf ".xxx\n.xx\n" >> .gitignore
#前面的.表示在根目录下
```

常见的.gitignore文件包含：

```bash
# 忽略所有 .log 文件
*.log

# 忽略 node_modules 目录
node_modules/

# 忽略特定文件
config.ini

# 不忽略某个文件(即使前面已经有忽略规则)
!important.log
```

更多模版可以参考github上的项目：[gitignore](https://github.com/github/gitignore)

## 7.深入分支

**还有一些细节比如，回溯、打标签**

```bash
git checkout 提交ID(Commit ID)
git checkout 分支
git checkout tag

git tag # 查看标签
git tag -d xxx # 删除标签
 
```

**回溯**也有多种情况：

* 软撤回
* 硬撤回
